/*! cards 2015-08-24 */

function Card(a,b){function c(a){switch(a){case 11:return"J";case 12:return"Q";case 13:return"K";case 14:return"A";default:return a}}this.value=a,this.suitValue=b.name,this.suit=b,this.rank=c(a),this.selected=!1}function Deck(a){this.shuffled=!1,this.cards=[];for(var b={0:{bit:1,name:"hearts",code:"hearts",color:"red"},1:{bit:2,name:"spades",code:"spades",color:"black"},2:{bit:4,name:"diamonds",code:"diams",color:"red"},3:{bit:8,name:"clubs",code:"clubs",color:"black"}},c=0;4>c;c++)for(var d=2;14>=d;d++)this.cards.push(new Card(d,b[c]));a&&this.shuffle()}function Game(){}function Hand(){this.cards=[],this.strength={}}Deck.prototype.shuffle=function(){for(var a=2704;a>0;a--)this.cards.reverse(),this.cards.push(this.draw(!0));this.shuffled=!0},Deck.prototype.draw=function(a){if(!this.cards.length)throw"DeckIsEmpty";if(a){var b=Math.floor(Math.random()*this.cards.length-1+1);return this.cards.splice(b,1)[0]}return this.cards.pop()},Deck.prototype.deal=function(a){for(!a&&(a=new Hand);a.cards.length<5;)a.addCard(this.draw());return a.evaluate(),a},Game.prototype.compareHands=function(a,b){},Hand.prototype.addCard=function(a){if(!(a instanceof Card))throw"NotACard";this.cards.push(a)},Hand.prototype.discardCard=function(a){var b=this.cards.indexOf(a);b>-1&&this.cards.splice(b,1)},Hand.prototype.evaluate=function(){var a=[],b=[];this.cards.map(function(c){a.push(c.value),b.push(c.suit.bit)});var c,d,e,f=1<<a[0]|1<<a[1]|1<<a[2]|1<<a[3]|1<<a[4];for(d=-1,c=e=0;5>d;d++,e=Math.pow(2,4*a[d]))c+=e*((c/e&15)+1);c=c%15-(f/(f&-f)==31||16444==f?3:1),c-=(b[0]==(b[1]|b[2]|b[3]|b[4]))*(31744==f?-5:1);var g=[7,8,4,5,0,1,2,9,3,6],h=["4 of a Kind","Straight Flush","Straight","Flush","High Card","1 Pair","2 Pair","Royal Flush","3 of a Kind","Full House"];this.strength={value:c,rank:g[c],suit:1==c||3==c?b[0]:null,high:Math.max.apply(null,a),string:h[c]+(16444==f?" (Ace low)":"")}};
//# sourceMappingURL=cards.min.js.map